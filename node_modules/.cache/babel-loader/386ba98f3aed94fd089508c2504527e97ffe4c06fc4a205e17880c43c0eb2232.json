{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mbeug\\\\OneDrive\\\\Desktop\\\\GOVAIMED1\\\\frontend\\\\govaimed_frontend\\\\src\\\\doctor\\\\PatientsList.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { getData } from '../api/endpoint';\n\n// const PatientsList = () => {\n//   const [patients, setPatients] = useState([]);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     const fetchPatients = async () => {\n//       try {\n//         setLoading(true);\n//         const data = await getData('/patients');\n//         setPatients(Array.isArray(data) ? data : []);\n//       } catch (err) {\n//         console.error('Patients error:', err);\n//         setPatients([]);\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchPatients();\n//     // Refresh toutes les 30s\n//     const interval = setInterval(fetchPatients, 30000);\n//     return () => clearInterval(interval);\n//   }, []);\n\n//   if (loading) {\n//     return (\n//       <div style={{ padding: '4rem', textAlign: 'center' }}>\n//         <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>ðŸ”„</div>\n//         <h3>Chargement patients en temps rÃ©el...</h3>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div>\n//       <div style={{ \n//         padding: '2rem 3rem 1.5rem', \n//         background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n//         color: 'white', marginBottom: '0'\n//       }}>\n//         <h2 style={{ margin: 0, fontSize: '2rem' }}>ðŸ‘¥ Patients</h2>\n//         <p style={{ margin: '0.5rem 0 0', opacity: 0.9 }}>\n//           {patients.length} patient(s) â€¢ Mise Ã  jour: {new Date().toLocaleTimeString('fr-FR')}\n//         </p>\n//       </div>\n\n//       {patients.length === 0 ? (\n//         <div style={{ padding: '4rem', textAlign: 'center', color: '#999' }}>\n//           <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>ðŸ‘¤</div>\n//           <h3>Aucun patient</h3>\n//           <p>Les nouveaux patients apparaÃ®tront ici en temps rÃ©el</p>\n//         </div>\n//       ) : (\n//         <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\n//           <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n//             <thead>\n//               <tr style={{ background: '#f8f9fa' }}>\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Nom</th>\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Email</th>\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>TÃ©lÃ©phone</th>\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Sexe</th>\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>CrÃ©Ã© le</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {patients.map(patient => (\n//                 <tr key={patient._id} style={{ borderBottom: '1px solid #eee', transition: 'background 0.2s' }}\n//                     onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\n//                     onMouseLeave={(e) => e.target.style.background = 'white'}\n//                 >\n//                   <td style={{ padding: '1.5rem 1rem', fontWeight: '600', color: '#1976d2' }}>\n//                     {patient.fullName || patient.nom || 'N/A'}\n//                   </td>\n//                   <td style={{ padding: '1.5rem 1rem' }}>\n//                     <a href={`mailto:${patient.email}`} style={{ color: '#2196f3', textDecoration: 'none' }}>\n//                       {patient.email}\n//                     </a>\n//                   </td>\n//                   <td style={{ padding: '1.5rem 1rem' }}>{patient.telephone || 'N/A'}</td>\n//                   <td style={{ padding: '1.5rem 1rem' }}>\n//                     <span style={{ \n//                       background: patient.sexe === 'M' ? '#e3f2fd' : '#fce4ec', \n//                       padding: '0.3rem 0.8rem', borderRadius: '20px', fontSize: '0.9rem' \n//                     }}>\n//                       {patient.sexe === 'M' ? 'â™‚ Masculin' : 'â™€ FÃ©minin'}\n//                     </span>\n//                   </td>\n//                   <td style={{ padding: '1.5rem 1rem', color: '#666' }}>\n//                     {patient.createdAt ? new Date(patient.createdAt).toLocaleDateString('fr-FR') : 'N/A'}\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default PatientsList;\nimport React, { useEffect, useState } from \"react\";\nimport * as api from \"../api/endpoint\";\nimport \"./PatientDashboard.css\"; // CrÃ©ez ce fichier CSS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PatientDashboard = () => {\n  _s();\n  var _userData$date_of_bir, _userData$patientProf;\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [editing, setEditing] = useState(false);\n  const [formData, setFormData] = useState({});\n  useEffect(() => {\n    loadPatientData();\n  }, []);\n  const loadPatientData = async () => {\n    setLoading(true);\n    try {\n      var _data$patientProfile;\n      const data = await api.getData(\"/me\"); // Route existante dans votre backend\n      setUserData(data);\n      setFormData({\n        fullName: data.fullName || \"\",\n        email: data.email || \"\",\n        dateNaissance: data.date_of_birth || \"\",\n        sexe: data.sexe || \"\",\n        contact: ((_data$patientProfile = data.patientProfile) === null || _data$patientProfile === void 0 ? void 0 : _data$patientProfile.contact) || \"\"\n      });\n      setLoading(false);\n    } catch (err) {\n      console.error(err);\n      setError(err.message || \"Erreur lors du chargement de vos informations\");\n      setLoading(false);\n    }\n  };\n  const handleEditToggle = () => {\n    setEditing(!editing);\n  };\n  const handleUpdateProfile = async e => {\n    e.preventDefault();\n    try {\n      const updatedData = {\n        fullName: formData.fullName,\n        date_of_birth: formData.dateNaissance,\n        sexe: formData.sexe,\n        patient: {\n          patientProfile: {\n            contact: formData.contact\n          }\n        }\n      };\n      await api.putData(`/user/${userData._id}`, updatedData);\n      setUserData({\n        ...userData,\n        ...formData\n      });\n      setEditing(false);\n      alert(\"Profil mis Ã  jour avec succÃ¨s !\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Erreur lors de la mise Ã  jour : \" + err.message);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Chargement de votre profil...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mon Profil Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), editing ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdateProfile,\n      className: \"edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nom complet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"fullName\",\n          value: formData.fullName,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Date de naissance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"dateNaissance\",\n          type: \"date\",\n          value: formData.dateNaissance,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Sexe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"sexe\",\n          value: formData.sexe,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"S\\xE9lectionner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"M\",\n            children: \"Masculin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"F\",\n            children: \"F\\xE9minin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"contact\",\n          value: formData.contact,\n          onChange: handleChange,\n          placeholder: \"Num\\xE9ro de t\\xE9l\\xE9phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Enregistrer les modifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleEditToggle,\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: userData.fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 16\n          }, this), \" \", userData.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date de naissance:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 16\n          }, this), \" \", (_userData$date_of_bir = userData.date_of_birth) === null || _userData$date_of_bir === void 0 ? void 0 : _userData$date_of_bir.toString().split('T')[0]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Sexe:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 16\n          }, this), \" \", userData.sexe === 'M' ? 'Masculin' : 'FÃ©minin']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Contact:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 16\n          }, this), \" \", ((_userData$patientProf = userData.patientProfile) === null || _userData$patientProf === void 0 ? void 0 : _userData$patientProf.contact) || 'Non renseignÃ©']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Statut:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 16\n          }, this), \" \", userData.statut]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEditToggle,\n        className: \"edit-profile-btn\",\n        children: \"Modifier mon profil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(PatientDashboard, \"lcUwp+gJv6eiJxAdv5KUGQ33iME=\");\n_c = PatientDashboard;\nexport default PatientDashboard;\nvar _c;\n$RefreshReg$(_c, \"PatientDashboard\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","PatientDashboard","_s","_userData$date_of_bir","_userData$patientProf","userData","setUserData","loading","setLoading","error","setError","editing","setEditing","formData","setFormData","loadPatientData","_data$patientProfile","data","getData","fullName","email","dateNaissance","date_of_birth","sexe","contact","patientProfile","err","console","message","handleEditToggle","handleUpdateProfile","e","preventDefault","updatedData","patient","putData","_id","alert","handleChange","target","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","className","onSubmit","onChange","required","disabled","type","placeholder","onClick","toString","split","statut","_c","$RefreshReg$"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/doctor/PatientsList.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { getData } from '../api/endpoint';\r\n\r\n// const PatientsList = () => {\r\n//   const [patients, setPatients] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     const fetchPatients = async () => {\r\n//       try {\r\n//         setLoading(true);\r\n//         const data = await getData('/patients');\r\n//         setPatients(Array.isArray(data) ? data : []);\r\n//       } catch (err) {\r\n//         console.error('Patients error:', err);\r\n//         setPatients([]);\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchPatients();\r\n//     // Refresh toutes les 30s\r\n//     const interval = setInterval(fetchPatients, 30000);\r\n//     return () => clearInterval(interval);\r\n//   }, []);\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <div style={{ padding: '4rem', textAlign: 'center' }}>\r\n//         <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>ðŸ”„</div>\r\n//         <h3>Chargement patients en temps rÃ©el...</h3>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div>\r\n//       <div style={{ \r\n//         padding: '2rem 3rem 1.5rem', \r\n//         background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n//         color: 'white', marginBottom: '0'\r\n//       }}>\r\n//         <h2 style={{ margin: 0, fontSize: '2rem' }}>ðŸ‘¥ Patients</h2>\r\n//         <p style={{ margin: '0.5rem 0 0', opacity: 0.9 }}>\r\n//           {patients.length} patient(s) â€¢ Mise Ã  jour: {new Date().toLocaleTimeString('fr-FR')}\r\n//         </p>\r\n//       </div>\r\n      \r\n//       {patients.length === 0 ? (\r\n//         <div style={{ padding: '4rem', textAlign: 'center', color: '#999' }}>\r\n//           <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>ðŸ‘¤</div>\r\n//           <h3>Aucun patient</h3>\r\n//           <p>Les nouveaux patients apparaÃ®tront ici en temps rÃ©el</p>\r\n//         </div>\r\n//       ) : (\r\n//         <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n//           <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n//             <thead>\r\n//               <tr style={{ background: '#f8f9fa' }}>\r\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Nom</th>\r\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Email</th>\r\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>TÃ©lÃ©phone</th>\r\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>Sexe</th>\r\n//                 <th style={{ padding: '1.5rem 1rem', textAlign: 'left', fontWeight: '600' }}>CrÃ©Ã© le</th>\r\n//               </tr>\r\n//             </thead>\r\n//             <tbody>\r\n//               {patients.map(patient => (\r\n//                 <tr key={patient._id} style={{ borderBottom: '1px solid #eee', transition: 'background 0.2s' }}\r\n//                     onMouseEnter={(e) => e.target.style.background = '#f5f5f5'}\r\n//                     onMouseLeave={(e) => e.target.style.background = 'white'}\r\n//                 >\r\n//                   <td style={{ padding: '1.5rem 1rem', fontWeight: '600', color: '#1976d2' }}>\r\n//                     {patient.fullName || patient.nom || 'N/A'}\r\n//                   </td>\r\n//                   <td style={{ padding: '1.5rem 1rem' }}>\r\n//                     <a href={`mailto:${patient.email}`} style={{ color: '#2196f3', textDecoration: 'none' }}>\r\n//                       {patient.email}\r\n//                     </a>\r\n//                   </td>\r\n//                   <td style={{ padding: '1.5rem 1rem' }}>{patient.telephone || 'N/A'}</td>\r\n//                   <td style={{ padding: '1.5rem 1rem' }}>\r\n//                     <span style={{ \r\n//                       background: patient.sexe === 'M' ? '#e3f2fd' : '#fce4ec', \r\n//                       padding: '0.3rem 0.8rem', borderRadius: '20px', fontSize: '0.9rem' \r\n//                     }}>\r\n//                       {patient.sexe === 'M' ? 'â™‚ Masculin' : 'â™€ FÃ©minin'}\r\n//                     </span>\r\n//                   </td>\r\n//                   <td style={{ padding: '1.5rem 1rem', color: '#666' }}>\r\n//                     {patient.createdAt ? new Date(patient.createdAt).toLocaleDateString('fr-FR') : 'N/A'}\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default PatientsList;\r\nimport React, { useEffect, useState } from \"react\";\r\nimport * as api from \"../api/endpoint\";\r\nimport \"./PatientDashboard.css\"; // CrÃ©ez ce fichier CSS\r\n\r\nconst PatientDashboard = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [editing, setEditing] = useState(false);\r\n  const [formData, setFormData] = useState({});\r\n\r\n  useEffect(() => {\r\n    loadPatientData();\r\n  }, []);\r\n\r\n  const loadPatientData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await api.getData(\"/me\"); // Route existante dans votre backend\r\n      setUserData(data);\r\n      setFormData({\r\n        fullName: data.fullName || \"\",\r\n        email: data.email || \"\",\r\n        dateNaissance: data.date_of_birth || \"\",\r\n        sexe: data.sexe || \"\",\r\n        contact: data.patientProfile?.contact || \"\",\r\n      });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(err.message || \"Erreur lors du chargement de vos informations\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditToggle = () => {\r\n    setEditing(!editing);\r\n  };\r\n\r\n  const handleUpdateProfile = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const updatedData = {\r\n        fullName: formData.fullName,\r\n        date_of_birth: formData.dateNaissance,\r\n        sexe: formData.sexe,\r\n        patient: { patientProfile: { contact: formData.contact } },\r\n      };\r\n      \r\n      await api.putData(`/user/${userData._id}`, updatedData);\r\n      setUserData({ ...userData, ...formData });\r\n      setEditing(false);\r\n      alert(\"Profil mis Ã  jour avec succÃ¨s !\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Erreur lors de la mise Ã  jour : \" + err.message);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  if (loading) return <p>Chargement de votre profil...</p>;\r\n  if (error) return <p style={{ color: \"red\" }}>{error}</p>;\r\n\r\n  return (\r\n    <div className=\"patient-dashboard\">\r\n      <h2>Mon Profil Patient</h2>\r\n      \r\n      {editing ? (\r\n        <form onSubmit={handleUpdateProfile} className=\"edit-form\">\r\n          <div className=\"form-group\">\r\n            <label>Nom complet</label>\r\n            <input\r\n              name=\"fullName\"\r\n              value={formData.fullName}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Email</label>\r\n            <input\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              disabled\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Date de naissance</label>\r\n            <input\r\n              name=\"dateNaissance\"\r\n              type=\"date\"\r\n              value={formData.dateNaissance}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Sexe</label>\r\n            <select name=\"sexe\" value={formData.sexe} onChange={handleChange}>\r\n              <option value=\"\">SÃ©lectionner</option>\r\n              <option value=\"M\">Masculin</option>\r\n              <option value=\"F\">FÃ©minin</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Contact</label>\r\n            <input\r\n              name=\"contact\"\r\n              value={formData.contact}\r\n              onChange={handleChange}\r\n              placeholder=\"NumÃ©ro de tÃ©lÃ©phone\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-actions\">\r\n            <button type=\"submit\">Enregistrer les modifications</button>\r\n            <button type=\"button\" onClick={handleEditToggle}>Annuler</button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <div className=\"profile-display\">\r\n          <div className=\"profile-card\">\r\n            <h3>{userData.fullName}</h3>\r\n            <p><strong>Email:</strong> {userData.email}</p>\r\n            <p><strong>Date de naissance:</strong> {userData.date_of_birth?.toString().split('T')[0]}</p>\r\n            <p><strong>Sexe:</strong> {userData.sexe === 'M' ? 'Masculin' : 'FÃ©minin'}</p>\r\n            <p><strong>Contact:</strong> {userData.patientProfile?.contact || 'Non renseignÃ©'}</p>\r\n            <p><strong>Statut:</strong> {userData.statut}</p>\r\n          </div>\r\n          <button onClick={handleEditToggle} className=\"edit-profile-btn\">\r\n            Modifier mon profil\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}