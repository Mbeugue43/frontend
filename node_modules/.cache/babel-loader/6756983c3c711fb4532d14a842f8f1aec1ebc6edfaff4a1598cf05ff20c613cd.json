{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mbeug\\\\OneDrive\\\\Desktop\\\\GOVAIMED1\\\\frontend\\\\govaimed_frontend\\\\src\\\\pages\\\\medecin\\\\CreerDossier.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { postData, getData } from '../../api/endpoint';\nimport { FiFileText, FiUser, FiAlertCircle, FiHeart, FiCheckCircle } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreerDossier = () => {\n  _s();\n  const navigate = useNavigate();\n  const [patients, setPatients] = useState([]);\n  const [loadingPatients, setLoadingPatients] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [formData, setFormData] = useState({\n    patientId: '',\n    resumeMedical: '',\n    groupeSanguin: '',\n    antecedents: [],\n    allergies: [],\n    contactUrgence: {\n      nom: '',\n      telephone: '',\n      lien: ''\n    },\n    statut: 'ACTIF'\n  });\n  const [newAntecedent, setNewAntecedent] = useState('');\n  const [newAllergie, setNewAllergie] = useState('');\n\n  // ‚úÖ V√âRIFICATION AVANT envoi (√©vite l'erreur MongoDB)\n  const checkDossierExists = async patientId => {\n    try {\n      // Cette v√©rification est faite c√¥t√© frontend via le filtrage des patients\n      // Le backend a d√©j√† l'index unique qui prot√®ge\n      return false;\n    } catch {\n      return true; // Consid√©rer comme existant en cas d'erreur\n    }\n  };\n  useEffect(() => {\n    loadPatients();\n  }, []);\n  const loadPatients = async () => {\n    try {\n      setLoadingPatients(true);\n      // ‚úÖ Utiliser getData correctement (import√© par d√©faut)\n      const patientsData = await getData('/patients');\n      setPatients(patientsData);\n    } catch (err) {\n      console.error('Erreur chargement patients:', err);\n      setError('Erreur lors du chargement des patients');\n    } finally {\n      setLoadingPatients(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setError(null);\n    if (name.startsWith('contactUrgence.')) {\n      const field = name.split('.')[1];\n      setFormData(prev => ({\n        ...prev,\n        contactUrgence: {\n          ...prev.contactUrgence,\n          [field]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const addAntecedent = () => {\n    if (newAntecedent.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        antecedents: [...prev.antecedents, {\n          antecedent: newAntecedent.trim()\n        }]\n      }));\n      setNewAntecedent('');\n    }\n  };\n  const removeAntecedent = index => {\n    setFormData(prev => ({\n      ...prev,\n      antecedents: prev.antecedents.filter((_, i) => i !== index)\n    }));\n  };\n  const addAllergie = () => {\n    if (newAllergie.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        allergies: [...prev.allergies, {\n          allergie: newAllergie.trim()\n        }]\n      }));\n      setNewAllergie('');\n    }\n  };\n  const removeAllergie = index => {\n    setFormData(prev => ({\n      ...prev,\n      allergies: prev.allergies.filter((_, i) => i !== index)\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n\n    // ‚úÖ Validation frontend\n    if (!formData.patientId) {\n      setError('Veuillez s√©lectionner un patient.');\n      return;\n    }\n    try {\n      var _decodeToken;\n      setLoading(true);\n\n      // ‚úÖ Pr√©paration des donn√©es nettoy√©es\n      const dataToSend = {\n        patientId: formData.patientId,\n        resumeMedical: formData.resumeMedical || '',\n        groupeSanguin: formData.groupeSanguin || '',\n        antecedents: formData.antecedents || [],\n        allergies: formData.allergies || [],\n        contactUrgence: formData.contactUrgence.nom || formData.contactUrgence.telephone || formData.contactUrgence.lien ? formData.contactUrgence : undefined,\n        statut: 'ACTIF',\n        medecinId: (_decodeToken = decodeToken(localStorage.getItem('token'))) === null || _decodeToken === void 0 ? void 0 : _decodeToken.userId // ‚úÖ Ajout m√©decin ID\n      };\n\n      // ‚úÖ Envoi avec gestion d'erreur sp√©cifique MongoDB\n      const response = await postData('/api/new-dossier', dataToSend);\n      setSuccess(true);\n      setTimeout(() => {\n        navigate('/medecin/dossiers');\n      }, 1500);\n    } catch (err) {\n      console.error('Erreur cr√©ation dossier:', err);\n\n      // ‚úÖ Messages d'erreur sp√©cifiques\n      if (err.message.includes('dossier existe') || err.message.includes('duplicate')) {\n        setError('‚ö†Ô∏è Un dossier existe d√©j√† pour ce patient. V√©rifiez vos dossiers existants.');\n      } else if (err.message.includes('Session expir√©e')) {\n        setError('Session expir√©e. Redirection vers la connexion...');\n      } else {\n        setError(err.message || 'Erreur lors de la cr√©ation du dossier m√©dical.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fonction utilitaire pour d√©coder le token (si pas import√©e)\n  const decodeToken = token => {\n    if (!token) return null;\n    try {\n      return JSON.parse(atob(token.split('.')[1]));\n    } catch {\n      return null;\n    }\n  };\n  if (loadingPatients) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement des patients...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-bold text-gray-900 mb-2 flex items-center justify-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(FiFileText, {\n            size: 36,\n            className: \"text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), \"Cr\\xE9er un Dossier M\\xE9dical\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-lg\",\n          children: \"Nouveau dossier pour un patient sans dossier actif\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg mb-6 shadow-md animate-pulse\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiAlertCircle, {\n            className: \"mr-3 text-red-500\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-red-800\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mb-6 shadow-md animate-pulse\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {\n            className: \"mr-3 text-green-500\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-green-800\",\n            children: \"\\u2705 Dossier cr\\xE9\\xE9 avec succ\\xE8s ! Redirection...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(FiUser, {\n              className: \"inline mr-2\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), \"Patient * (sans dossier actif)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"patientId\",\n            value: formData.patientId,\n            onChange: handleChange,\n            required: true,\n            className: \"w-full px-4 py-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all bg-gradient-to-r from-gray-50 to-white text-lg\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"S\\xE9lectionnez un patient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), patients.map(patient => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: patient._id,\n              children: [patient.fullName || `${patient.nom} ${patient.prenom}`, \" - \", patient.email]\n            }, patient._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), patients.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-4 bg-amber-50 border border-amber-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-amber-800 font-medium\",\n              children: \"\\uD83D\\uDCCB Tous les patients ont d\\xE9j\\xE0 un dossier actif\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-amber-700 mt-1\",\n              children: \"V\\xE9rifiez vos dossiers existants ou contactez l'administrateur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Groupe Sanguin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"groupeSanguin\",\n              value: formData.groupeSanguin,\n              onChange: handleChange,\n              className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Non sp\\xE9cifi\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A+\",\n                children: \"A+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A-\",\n                children: \"A-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B+\",\n                children: \"B+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B-\",\n                children: \"B-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"AB+\",\n                children: \"AB+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"AB-\",\n                children: \"AB-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"O+\",\n                children: \"O+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"O-\",\n                children: \"O-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(FiFileText, {\n                className: \"inline mr-2\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), \"R\\xE9sum\\xE9 m\\xE9dical\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"resumeMedical\",\n              value: formData.resumeMedical,\n              onChange: handleChange,\n              rows: 3,\n              className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-vertical\",\n              placeholder: \"Ant\\xE9c\\xE9dents g\\xE9n\\xE9raux, \\xE9tat actuel...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(FiAlertCircle, {\n                className: \"inline mr-2\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), \"Ant\\xE9c\\xE9dents\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newAntecedent,\n                  onChange: e => setNewAntecedent(e.target.value),\n                  onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addAntecedent()),\n                  placeholder: \"ex: Diab\\xE8te type 2\",\n                  className: \"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: addAntecedent,\n                  className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-h-32 overflow-auto space-y-1\",\n                children: formData.antecedents.map((a, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center bg-blue-50 p-2 rounded border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: a.antecedent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => removeAntecedent(i),\n                    className: \"text-red-500 hover:text-red-700\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(FiHeart, {\n                className: \"inline mr-2\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), \"Allergies\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newAllergie,\n                  onChange: e => setNewAllergie(e.target.value),\n                  onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addAllergie()),\n                  placeholder: \"ex: P\\xE9nicilline\",\n                  className: \"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: addAllergie,\n                  className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-h-32 overflow-auto space-y-1\",\n                children: formData.allergies.map((a, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center bg-red-50 p-2 rounded border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: a.allergie\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => removeAllergie(i),\n                    className: \"text-red-500 hover:text-red-700\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8 p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border-2 border-dashed border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-900 mb-4\",\n            children: \"\\uD83D\\uDCDE Contact d'Urgence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"contactUrgence.nom\",\n              value: formData.contactUrgence.nom,\n              onChange: handleChange,\n              placeholder: \"Nom\",\n              className: \"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              name: \"contactUrgence.telephone\",\n              value: formData.contactUrgence.telephone,\n              onChange: handleChange,\n              placeholder: \"01 23 45 67 89\",\n              className: \"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"contactUrgence.lien\",\n              value: formData.contactUrgence.lien,\n              onChange: handleChange,\n              placeholder: \"\\xC9poux/Parent/...\",\n              className: \"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-4 pt-6 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || !formData.patientId,\n            className: \"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all font-semibold shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed text-lg\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin -ml-1 mr-3 h-5 w-5 inline\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this), \"Cr\\xE9ation en cours...\"]\n            }, void 0, true) : '‚úÖ Cr√©er le Dossier M√©dical'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate('/medecin/dossiers'),\n            className: \"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all font-semibold\",\n            disabled: loading,\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n_s(CreerDossier, \"0vPW9d8Zd65MWPlo+9CClgNMACU=\", false, function () {\n  return [useNavigate];\n});\n_c = CreerDossier;\nexport default CreerDossier;\nvar _c;\n$RefreshReg$(_c, \"CreerDossier\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","postData","getData","FiFileText","FiUser","FiAlertCircle","FiHeart","FiCheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","CreerDossier","_s","navigate","patients","setPatients","loadingPatients","setLoadingPatients","loading","setLoading","error","setError","success","setSuccess","formData","setFormData","patientId","resumeMedical","groupeSanguin","antecedents","allergies","contactUrgence","nom","telephone","lien","statut","newAntecedent","setNewAntecedent","newAllergie","setNewAllergie","checkDossierExists","loadPatients","patientsData","err","console","handleChange","e","name","value","target","startsWith","field","split","prev","addAntecedent","trim","antecedent","removeAntecedent","index","filter","_","i","addAllergie","allergie","removeAllergie","handleSubmit","preventDefault","_decodeToken","dataToSend","undefined","medecinId","decodeToken","localStorage","getItem","userId","response","setTimeout","message","includes","token","JSON","parse","atob","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onSubmit","onChange","required","disabled","map","patient","_id","fullName","prenom","email","length","rows","placeholder","type","onKeyPress","key","onClick","a","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/pages/medecin/CreerDossier.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { postData, getData } from '../../api/endpoint';\r\nimport { FiFileText, FiUser, FiAlertCircle, FiHeart, FiCheckCircle } from 'react-icons/fi';\r\n\r\nconst CreerDossier = () => {\r\n  const navigate = useNavigate();\r\n  const [patients, setPatients] = useState([]);\r\n  const [loadingPatients, setLoadingPatients] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    patientId: '',\r\n    resumeMedical: '',\r\n    groupeSanguin: '',\r\n    antecedents: [],\r\n    allergies: [],\r\n    contactUrgence: {\r\n      nom: '',\r\n      telephone: '',\r\n      lien: ''\r\n    },\r\n    statut: 'ACTIF'\r\n  });\r\n  \r\n  const [newAntecedent, setNewAntecedent] = useState('');\r\n  const [newAllergie, setNewAllergie] = useState('');\r\n\r\n  // ‚úÖ V√âRIFICATION AVANT envoi (√©vite l'erreur MongoDB)\r\n  const checkDossierExists = async (patientId) => {\r\n    try {\r\n      // Cette v√©rification est faite c√¥t√© frontend via le filtrage des patients\r\n      // Le backend a d√©j√† l'index unique qui prot√®ge\r\n      return false;\r\n    } catch {\r\n      return true; // Consid√©rer comme existant en cas d'erreur\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadPatients();\r\n  }, []);\r\n\r\n  const loadPatients = async () => {\r\n    try {\r\n      setLoadingPatients(true);\r\n      // ‚úÖ Utiliser getData correctement (import√© par d√©faut)\r\n      const patientsData = await getData('/patients');\r\n      setPatients(patientsData);\r\n    } catch (err) {\r\n      console.error('Erreur chargement patients:', err);\r\n      setError('Erreur lors du chargement des patients');\r\n    } finally {\r\n      setLoadingPatients(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setError(null);\r\n    \r\n    if (name.startsWith('contactUrgence.')) {\r\n      const field = name.split('.')[1];\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        contactUrgence: {\r\n          ...prev.contactUrgence,\r\n          [field]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const addAntecedent = () => {\r\n    if (newAntecedent.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        antecedents: [...prev.antecedents, { antecedent: newAntecedent.trim() }]\r\n      }));\r\n      setNewAntecedent('');\r\n    }\r\n  };\r\n\r\n  const removeAntecedent = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      antecedents: prev.antecedents.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addAllergie = () => {\r\n    if (newAllergie.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        allergies: [...prev.allergies, { allergie: newAllergie.trim() }]\r\n      }));\r\n      setNewAllergie('');\r\n    }\r\n  };\r\n\r\n  const removeAllergie = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      allergies: prev.allergies.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setSuccess(false);\r\n\r\n    // ‚úÖ Validation frontend\r\n    if (!formData.patientId) {\r\n      setError('Veuillez s√©lectionner un patient.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // ‚úÖ Pr√©paration des donn√©es nettoy√©es\r\n      const dataToSend = {\r\n        patientId: formData.patientId,\r\n        resumeMedical: formData.resumeMedical || '',\r\n        groupeSanguin: formData.groupeSanguin || '',\r\n        antecedents: formData.antecedents || [],\r\n        allergies: formData.allergies || [],\r\n        contactUrgence: formData.contactUrgence.nom || formData.contactUrgence.telephone || formData.contactUrgence.lien \r\n          ? formData.contactUrgence \r\n          : undefined,\r\n        statut: 'ACTIF',\r\n        medecinId: decodeToken(localStorage.getItem('token'))?.userId // ‚úÖ Ajout m√©decin ID\r\n      };\r\n\r\n      // ‚úÖ Envoi avec gestion d'erreur sp√©cifique MongoDB\r\n      const response = await postData('/api/new-dossier', dataToSend);\r\n      \r\n      setSuccess(true);\r\n      setTimeout(() => {\r\n        navigate('/medecin/dossiers');\r\n      }, 1500);\r\n      \r\n    } catch (err) {\r\n      console.error('Erreur cr√©ation dossier:', err);\r\n      \r\n      // ‚úÖ Messages d'erreur sp√©cifiques\r\n      if (err.message.includes('dossier existe') || err.message.includes('duplicate')) {\r\n        setError('‚ö†Ô∏è Un dossier existe d√©j√† pour ce patient. V√©rifiez vos dossiers existants.');\r\n      } else if (err.message.includes('Session expir√©e')) {\r\n        setError('Session expir√©e. Redirection vers la connexion...');\r\n      } else {\r\n        setError(err.message || 'Erreur lors de la cr√©ation du dossier m√©dical.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fonction utilitaire pour d√©coder le token (si pas import√©e)\r\n  const decodeToken = (token) => {\r\n    if (!token) return null;\r\n    try {\r\n      return JSON.parse(atob(token.split('.')[1]));\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  if (loadingPatients) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <p>Chargement des patients...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"mb-8 text-center\">\r\n          <h2 className=\"text-4xl font-bold text-gray-900 mb-2 flex items-center justify-center gap-3\">\r\n            <FiFileText size={36} className=\"text-blue-600\" />\r\n            Cr√©er un Dossier M√©dical\r\n          </h2>\r\n          <p className=\"text-gray-600 text-lg\">Nouveau dossier pour un patient sans dossier actif</p>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg mb-6 shadow-md animate-pulse\">\r\n            <div className=\"flex items-center\">\r\n              <FiAlertCircle className=\"mr-3 text-red-500\" size={20} />\r\n              <div>\r\n                <p className=\"font-semibold text-red-800\">{error}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg mb-6 shadow-md animate-pulse\">\r\n            <div className=\"flex items-center\">\r\n              <FiCheckCircle className=\"mr-3 text-green-500\" size={20} />\r\n              <p className=\"font-semibold text-green-800\">\r\n                ‚úÖ Dossier cr√©√© avec succ√®s ! Redirection...\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100\">\r\n          {/* Patient Selection */}\r\n          <div className=\"mb-8\">\r\n            <label className=\"block text-sm font-semibold text-gray-700 mb-3\">\r\n              <FiUser className=\"inline mr-2\" size={20} />\r\n              Patient * (sans dossier actif)\r\n            </label>\r\n            <select\r\n              name=\"patientId\"\r\n              value={formData.patientId}\r\n              onChange={handleChange}\r\n              required\r\n              className=\"w-full px-4 py-4 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all bg-gradient-to-r from-gray-50 to-white text-lg\"\r\n              disabled={loading}\r\n            >\r\n              <option value=\"\">S√©lectionnez un patient</option>\r\n              {patients.map(patient => (\r\n                <option key={patient._id} value={patient._id}>\r\n                  {patient.fullName || `${patient.nom} ${patient.prenom}`} - {patient.email}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            {patients.length === 0 && (\r\n              <div className=\"mt-3 p-4 bg-amber-50 border border-amber-200 rounded-lg\">\r\n                <p className=\"text-amber-800 font-medium\">\r\n                  üìã Tous les patients ont d√©j√† un dossier actif\r\n                </p>\r\n                <p className=\"text-sm text-amber-700 mt-1\">\r\n                  V√©rifiez vos dossiers existants ou contactez l'administrateur\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Autres champs - m√™me structure mais optimis√©e */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n            {/* Groupe Sanguin */}\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Groupe Sanguin</label>\r\n              <select name=\"groupeSanguin\" value={formData.groupeSanguin} onChange={handleChange} className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 transition-all\">\r\n                <option value=\"\">Non sp√©cifi√©</option>\r\n                <option value=\"A+\">A+</option><option value=\"A-\">A-</option>\r\n                <option value=\"B+\">B+</option><option value=\"B-\">B-</option>\r\n                <option value=\"AB+\">AB+</option><option value=\"AB-\">AB-</option>\r\n                <option value=\"O+\">O+</option><option value=\"O-\">O-</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* R√©sum√© m√©dical */}\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                <FiFileText className=\"inline mr-2\" size={16} />\r\n                R√©sum√© m√©dical\r\n              </label>\r\n              <textarea\r\n                name=\"resumeMedical\"\r\n                value={formData.resumeMedical}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-vertical\"\r\n                placeholder=\"Ant√©c√©dents g√©n√©raux, √©tat actuel...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Ant√©c√©dents & Allergies */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-3\">\r\n                <FiAlertCircle className=\"inline mr-2\" size={18} />\r\n                Ant√©c√©dents\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newAntecedent}\r\n                    onChange={(e) => setNewAntecedent(e.target.value)}\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addAntecedent())}\r\n                    placeholder=\"ex: Diab√®te type 2\"\r\n                    className=\"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <button type=\"button\" onClick={addAntecedent} className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\">\r\n                    +\r\n                  </button>\r\n                </div>\r\n                <div className=\"max-h-32 overflow-auto space-y-1\">\r\n                  {formData.antecedents.map((a, i) => (\r\n                    <div key={i} className=\"flex justify-between items-center bg-blue-50 p-2 rounded border\">\r\n                      <span>{a.antecedent}</span>\r\n                      <button type=\"button\" onClick={() => removeAntecedent(i)} className=\"text-red-500 hover:text-red-700\">√ó</button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-3\">\r\n                <FiHeart className=\"inline mr-2\" size={18} />\r\n                Allergies\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newAllergie}\r\n                    onChange={(e) => setNewAllergie(e.target.value)}\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addAllergie())}\r\n                    placeholder=\"ex: P√©nicilline\"\r\n                    className=\"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <button type=\"button\" onClick={addAllergie} className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\">\r\n                    +\r\n                  </button>\r\n                </div>\r\n                <div className=\"max-h-32 overflow-auto space-y-1\">\r\n                  {formData.allergies.map((a, i) => (\r\n                    <div key={i} className=\"flex justify-between items-center bg-red-50 p-2 rounded border\">\r\n                      <span>{a.allergie}</span>\r\n                      <button type=\"button\" onClick={() => removeAllergie(i)} className=\"text-red-500 hover:text-red-700\">√ó</button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contact Urgence */}\r\n          <div className=\"mb-8 p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border-2 border-dashed border-gray-200\">\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-4\">üìû Contact d'Urgence</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <input\r\n                type=\"text\" name=\"contactUrgence.nom\"\r\n                value={formData.contactUrgence.nom} onChange={handleChange}\r\n                placeholder=\"Nom\" className=\"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <input\r\n                type=\"tel\" name=\"contactUrgence.telephone\"\r\n                value={formData.contactUrgence.telephone} onChange={handleChange}\r\n                placeholder=\"01 23 45 67 89\" className=\"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <input\r\n                type=\"text\" name=\"contactUrgence.lien\"\r\n                value={formData.contactUrgence.lien} onChange={handleChange}\r\n                placeholder=\"√âpoux/Parent/...\" className=\"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Boutons */}\r\n          <div className=\"flex flex-col sm:flex-row gap-4 pt-6 border-t\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !formData.patientId}\r\n              className=\"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all font-semibold shadow-xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed text-lg\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 inline\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Cr√©ation en cours...\r\n                </>\r\n              ) : (\r\n                '‚úÖ Cr√©er le Dossier M√©dical'\r\n              )}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => navigate('/medecin/dossiers')}\r\n              className=\"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all font-semibold\"\r\n              disabled={loading}\r\n            >\r\n              Annuler\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreerDossier;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}