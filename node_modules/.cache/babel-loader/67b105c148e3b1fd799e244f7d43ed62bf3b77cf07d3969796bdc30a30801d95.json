{"ast":null,"code":"// src/api/endpoint.js - VERSION CORRIG√âE FINALE ‚úÖ\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\n\n// =================== TOKEN MANAGEMENT ===================\nconst TOKEN_KEY = \"token\";\nconst getAuthToken = () => localStorage.getItem(TOKEN_KEY);\nconst setAuthToken = token => localStorage.setItem(TOKEN_KEY, token);\nconst removeAuthToken = () => localStorage.removeItem(TOKEN_KEY);\nconst decodeToken = token => {\n  if (!token) return null;\n  try {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)).join(''));\n    return JSON.parse(jsonPayload);\n  } catch {\n    return null;\n  }\n};\nconst isTokenValid = token => {\n  if (!token) return false;\n  try {\n    const decoded = decodeToken(token);\n    if (!decoded || !decoded.exp) return false;\n    return decoded.exp * 1000 > Date.now();\n  } catch {\n    return false;\n  }\n};\n\n// =================== HELPERS - FIX URL D√âFINITIF ===================\nconst buildUrl = endpoint => {\n  console.log('üîç INPUT:', `\"${endpoint}\"`);\n\n  // ‚úÖ FIX RADICAL : √âlimine TOUS les probl√®mes de double /api\n  let cleanEndpoint = endpoint.trim();\n\n  // Supprimer /api/ du d√©but (regex correcte)\n  cleanEndpoint = cleanEndpoint.replace(/^\\/api\\//i, '');\n  cleanEndpoint = cleanEndpoint.replace(/^\\/api$/i, '');\n\n  // Supprimer slash initial ET final\n  cleanEndpoint = cleanEndpoint.replace(/^\\/+/, '').replace(/\\/+$/, '');\n  console.log('üîç CLEAN:', `\"${cleanEndpoint}\"`);\n  const finalUrl = `${BASE_URL}/${cleanEndpoint}`;\n  console.log('üîç FINAL:', finalUrl);\n  return finalUrl;\n};\nconst getHeaders = (extraHeaders = {}) => {\n  const token = getAuthToken();\n  const headers = {\n    'Content-Type': 'application/json',\n    ...extraHeaders\n  };\n  if (token && isTokenValid(token)) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  return headers;\n};\n\n// =================== GESTION DES ERREURS ===================\nconst handleApiError = async response => {\n  const status = response.status;\n  if (status === 401) {\n    removeAuthToken();\n    if (typeof window !== 'undefined' && window.location.pathname !== '/login') {\n      window.location.href = '/login';\n    }\n    throw new Error('Session expir√©e. Redirection vers login...');\n  }\n  if (status === 403) {\n    try {\n      const errorText = await response.text();\n      throw new Error(errorText || 'üîí Acc√®s refus√©');\n    } catch {\n      throw new Error('üîí Acc√®s refus√©');\n    }\n  }\n  if (status === 404) {\n    throw new Error('üìÅ Endpoint non trouv√© - Backend route manquante');\n  }\n  let errorData;\n  try {\n    errorData = await response.json();\n  } catch {\n    errorData = {\n      message: `Erreur HTTP ${status}`\n    };\n  }\n  console.error(\"üö® Erreur serveur:\", {\n    status,\n    errorData\n  });\n  let errorMessage = errorData.message || `Erreur ${status}`;\n  if (errorData.errorName === 'MongoServerError' && errorData.code === 11000) {\n    errorMessage = '‚ö†Ô∏è Donn√©es en doublon';\n  }\n  if (errorData.validationErrors) {\n    const errors = Object.values(errorData.validationErrors).map(err => err.message).join('; ');\n    errorMessage = `Validation: ${errors}`;\n  }\n  throw new Error(errorMessage);\n};\n\n// =================== API METHODS ===================\nconst getData = async endpoint => {\n  try {\n    const url = buildUrl(endpoint);\n    console.log('üåê GET FINAL:', url);\n    const response = await fetch(url, {\n      headers: getHeaders()\n    });\n    if (!response.ok) {\n      throw await handleApiError(response);\n    }\n    const data = await response.json();\n    console.log('‚úÖ Succ√®s:', data.length || data.length === 0 ? 'Liste vide' : 'OK');\n    return data;\n  } catch (error) {\n    console.error(\"‚ùå GET failed:\", error.message);\n    throw error;\n  }\n};\nconst postData = async (endpoint, payload) => {\n  try {\n    const url = buildUrl(endpoint);\n    console.log('üì§ POST:', url);\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: getHeaders(),\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      throw await handleApiError(response);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"‚ùå POST failed:\", error.message);\n    throw error;\n  }\n};\nconst putData = async (endpoint, payload) => {\n  try {\n    const url = buildUrl(endpoint);\n    const response = await fetch(url, {\n      method: \"PUT\",\n      headers: getHeaders(),\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      throw await handleApiError(response);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"‚ùå PUT failed:\", error.message);\n    throw error;\n  }\n};\nconst deleteData = async endpoint => {\n  try {\n    const url = buildUrl(endpoint);\n    const response = await fetch(url, {\n      method: \"DELETE\",\n      headers: getHeaders()\n    });\n    if (!response.ok) {\n      throw await handleApiError(response);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"‚ùå DELETE failed:\", error.message);\n    throw error;\n  }\n};\n\n// ‚úÖ UNE SEULE EXPORT - ESLint PARFAIT\nexport { TOKEN_KEY, getAuthToken, setAuthToken, removeAuthToken, decodeToken, isTokenValid, getData, postData, putData, deleteData };\nexport default {\n  getData,\n  postData,\n  putData,\n  deleteData\n};","map":{"version":3,"names":["BASE_URL","process","env","REACT_APP_API_BASE_URL","TOKEN_KEY","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","removeAuthToken","removeItem","decodeToken","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","isTokenValid","decoded","exp","Date","now","buildUrl","endpoint","console","log","cleanEndpoint","trim","finalUrl","getHeaders","extraHeaders","headers","Authorization","handleApiError","response","status","window","location","pathname","href","Error","errorText","text","errorData","json","message","error","errorMessage","errorName","code","validationErrors","errors","Object","values","err","getData","url","fetch","ok","data","length","postData","payload","method","body","stringify","putData","deleteData"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/api/endpoint.js"],"sourcesContent":["// src/api/endpoint.js - VERSION CORRIG√âE FINALE ‚úÖ\r\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\r\n\r\n// =================== TOKEN MANAGEMENT ===================\r\nconst TOKEN_KEY = \"token\";\r\nconst getAuthToken = () => localStorage.getItem(TOKEN_KEY);\r\nconst setAuthToken = (token) => localStorage.setItem(TOKEN_KEY, token);\r\nconst removeAuthToken = () => localStorage.removeItem(TOKEN_KEY);\r\n\r\nconst decodeToken = (token) => {\r\n  if (!token) return null;\r\n  try {\r\n    const base64Url = token.split('.')[1];\r\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split('')\r\n        .map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join('')\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst isTokenValid = (token) => {\r\n  if (!token) return false;\r\n  try {\r\n    const decoded = decodeToken(token);\r\n    if (!decoded || !decoded.exp) return false;\r\n    return decoded.exp * 1000 > Date.now();\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\n// =================== HELPERS - FIX URL D√âFINITIF ===================\r\nconst buildUrl = (endpoint) => {\r\n  console.log('üîç INPUT:', `\"${endpoint}\"`);\r\n  \r\n  // ‚úÖ FIX RADICAL : √âlimine TOUS les probl√®mes de double /api\r\n  let cleanEndpoint = endpoint.trim();\r\n  \r\n  // Supprimer /api/ du d√©but (regex correcte)\r\n  cleanEndpoint = cleanEndpoint.replace(/^\\/api\\//i, '');\r\n  cleanEndpoint = cleanEndpoint.replace(/^\\/api$/i, '');\r\n  \r\n  // Supprimer slash initial ET final\r\n  cleanEndpoint = cleanEndpoint.replace(/^\\/+/, '').replace(/\\/+$/, '');\r\n  \r\n  console.log('üîç CLEAN:', `\"${cleanEndpoint}\"`);\r\n  \r\n  const finalUrl = `${BASE_URL}/${cleanEndpoint}`;\r\n  console.log('üîç FINAL:', finalUrl);\r\n  \r\n  return finalUrl;\r\n};\r\n\r\nconst getHeaders = (extraHeaders = {}) => {\r\n  const token = getAuthToken();\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    ...extraHeaders\r\n  };\r\n  \r\n  if (token && isTokenValid(token)) {\r\n    headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  \r\n  return headers;\r\n};\r\n\r\n// =================== GESTION DES ERREURS ===================\r\nconst handleApiError = async (response) => {\r\n  const status = response.status;\r\n  \r\n  if (status === 401) {\r\n    removeAuthToken();\r\n    if (typeof window !== 'undefined' && window.location.pathname !== '/login') {\r\n      window.location.href = '/login';\r\n    }\r\n    throw new Error('Session expir√©e. Redirection vers login...');\r\n  }\r\n\r\n  if (status === 403) {\r\n    try {\r\n      const errorText = await response.text();\r\n      throw new Error(errorText || 'üîí Acc√®s refus√©');\r\n    } catch {\r\n      throw new Error('üîí Acc√®s refus√©');\r\n    }\r\n  }\r\n\r\n  if (status === 404) {\r\n    throw new Error('üìÅ Endpoint non trouv√© - Backend route manquante');\r\n  }\r\n\r\n  let errorData;\r\n  try {\r\n    errorData = await response.json();\r\n  } catch {\r\n    errorData = { message: `Erreur HTTP ${status}` };\r\n  }\r\n\r\n  console.error(\"üö® Erreur serveur:\", { status, errorData });\r\n  let errorMessage = errorData.message || `Erreur ${status}`;\r\n  \r\n  if (errorData.errorName === 'MongoServerError' && errorData.code === 11000) {\r\n    errorMessage = '‚ö†Ô∏è Donn√©es en doublon';\r\n  }\r\n  \r\n  if (errorData.validationErrors) {\r\n    const errors = Object.values(errorData.validationErrors)\r\n      .map(err => err.message)\r\n      .join('; ');\r\n    errorMessage = `Validation: ${errors}`;\r\n  }\r\n  \r\n  throw new Error(errorMessage);\r\n};\r\n\r\n// =================== API METHODS ===================\r\nconst getData = async (endpoint) => {\r\n  try {\r\n    const url = buildUrl(endpoint);\r\n    console.log('üåê GET FINAL:', url);\r\n    \r\n    const response = await fetch(url, { headers: getHeaders() });\r\n    \r\n    if (!response.ok) {\r\n      throw await handleApiError(response);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    console.log('‚úÖ Succ√®s:', data.length || data.length === 0 ? 'Liste vide' : 'OK');\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"‚ùå GET failed:\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst postData = async (endpoint, payload) => {\r\n  try {\r\n    const url = buildUrl(endpoint);\r\n    console.log('üì§ POST:', url);\r\n    \r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(payload),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw await handleApiError(response);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"‚ùå POST failed:\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst putData = async (endpoint, payload) => {\r\n  try {\r\n    const url = buildUrl(endpoint);\r\n    const response = await fetch(url, {\r\n      method: \"PUT\",\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(payload),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw await handleApiError(response);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"‚ùå PUT failed:\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst deleteData = async (endpoint) => {\r\n  try {\r\n    const url = buildUrl(endpoint);\r\n    const response = await fetch(url, {\r\n      method: \"DELETE\",\r\n      headers: getHeaders(),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw await handleApiError(response);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"‚ùå DELETE failed:\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ‚úÖ UNE SEULE EXPORT - ESLint PARFAIT\r\nexport {\r\n  TOKEN_KEY,\r\n  getAuthToken,\r\n  setAuthToken,\r\n  removeAuthToken,\r\n  decodeToken,\r\n  isTokenValid,\r\n  getData,\r\n  postData,\r\n  putData,\r\n  deleteData\r\n};\r\n\r\nexport default {\r\n  getData,\r\n  postData,\r\n  putData,\r\n  deleteData\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}