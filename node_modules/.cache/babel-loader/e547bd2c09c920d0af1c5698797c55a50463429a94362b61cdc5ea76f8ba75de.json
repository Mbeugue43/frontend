{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getAuthToken, getData } from '../api/endpoint';\nimport { decodeToken } from '../utils/auth';\nexport const usePatientProfile = () => {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = getAuthToken();\n        const userId = decodeToken(token).userId;\n        const response = await getData(`/patients/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setProfile(response);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, []);\n  return {\n    profile,\n    loading,\n    error\n  };\n};\n_s(usePatientProfile, \"2vMMKA/p+mq4xHlKmIhZMU9AgAU=\");\nexport const usePatientRDV = () => {\n  _s2();\n  const [rdv, setRDV] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchRDV = async () => {\n      try {\n        const token = getAuthToken();\n        const response = await getData('/patients/rdv', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setRDV(response);\n      } catch (err) {\n        console.error('Erreur RDV:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchRDV();\n  }, []);\n  return {\n    rdv,\n    loading\n  };\n};\n_s2(usePatientRDV, \"NnsZBpY1YvkOeYlyBlr4aa+yaPo=\");\nexport const usePatientDossier = () => {\n  _s3();\n  const [dossier, setDossier] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchDossier = async () => {\n      try {\n        const token = getAuthToken();\n        const response = await getData('/patients/dossier', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setDossier(response);\n      } catch (err) {\n        console.error('Erreur dossier:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDossier();\n  }, []);\n  return {\n    dossier,\n    loading\n  };\n};\n_s3(usePatientDossier, \"JzbinHeIH4N3JW0CfTzmvhDcDoI=\");\nexport const usePatientOrdonnances = () => {\n  _s4();\n  const [ordonnances, setOrdonnances] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchOrdonnances = async () => {\n      try {\n        const token = getAuthToken();\n        const response = await getData('/patients/ordonnances', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOrdonnances(response);\n      } catch (err) {\n        console.error('Erreur ordonnances:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchOrdonnances();\n  }, []);\n  return {\n    ordonnances,\n    loading\n  };\n};\n_s4(usePatientOrdonnances, \"G5gaTEg4heTT2XSa/4r/iFy+24o=\");","map":{"version":3,"names":["useState","useEffect","getAuthToken","getData","decodeToken","usePatientProfile","_s","profile","setProfile","loading","setLoading","error","setError","fetchProfile","token","userId","response","headers","Authorization","err","message","usePatientRDV","_s2","rdv","setRDV","fetchRDV","console","usePatientDossier","_s3","dossier","setDossier","fetchDossier","usePatientOrdonnances","_s4","ordonnances","setOrdonnances","fetchOrdonnances"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/hooks/usePatientData.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getAuthToken, getData } from '../api/endpoint';\r\nimport { decodeToken } from '../utils/auth';\r\n\r\nexport const usePatientProfile = () => {\r\n  const [profile, setProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const token = getAuthToken();\r\n        const userId = decodeToken(token).userId;\r\n        const response = await getData(`/patients/${userId}`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setProfile(response);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  return { profile, loading, error };\r\n};\r\n\r\nexport const usePatientRDV = () => {\r\n  const [rdv, setRDV] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchRDV = async () => {\r\n      try {\r\n        const token = getAuthToken();\r\n        const response = await getData('/patients/rdv', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setRDV(response);\r\n      } catch (err) {\r\n        console.error('Erreur RDV:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRDV();\r\n  }, []);\r\n\r\n  return { rdv, loading };\r\n};\r\n\r\nexport const usePatientDossier = () => {\r\n  const [dossier, setDossier] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchDossier = async () => {\r\n      try {\r\n        const token = getAuthToken();\r\n        const response = await getData('/patients/dossier', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setDossier(response);\r\n      } catch (err) {\r\n        console.error('Erreur dossier:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchDossier();\r\n  }, []);\r\n\r\n  return { dossier, loading };\r\n};\r\n\r\nexport const usePatientOrdonnances = () => {\r\n  const [ordonnances, setOrdonnances] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchOrdonnances = async () => {\r\n      try {\r\n        const token = getAuthToken();\r\n        const response = await getData('/patients/ordonnances', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setOrdonnances(response);\r\n      } catch (err) {\r\n        console.error('Erreur ordonnances:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchOrdonnances();\r\n  }, []);\r\n\r\n  return { ordonnances, loading };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}