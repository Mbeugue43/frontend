{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mbeug\\\\OneDrive\\\\Desktop\\\\GOVAIMED1\\\\frontend\\\\govaimed_frontend\\\\src\\\\dossier\\\\CreateDossier.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:5000/api'\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  config.headers['Content-Type'] = 'application/json';\n  return config;\n});\nconst CreateDossier = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    patientId: '',\n    motif: '',\n    description: ''\n  });\n  const [patients, setPatients] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingPatients, setLoadingPatients] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [existingDossierId, setExistingDossierId] = useState('');\n  const errorRef = useRef(null);\n  const successRef = useRef(null);\n\n  // ‚úÖ Animation CSS - CORRIG√â avec v√©rification robuste\n  useEffect(() => {\n    const styleId = 'dossier-animations';\n    const existingStyle = document.getElementById(styleId);\n    if (existingStyle) return;\n    const style = document.createElement('style');\n    style.id = styleId;\n    style.textContent = `\n      @keyframes shake {\n        0%, 100% { transform: translateX(0); }\n        25% { transform: translateX(-10px); }\n        75% { transform: translateX(10px); }\n      }\n      @keyframes pulse {\n        0%, 100% { box-shadow: 0 0 20px rgba(239,68,68,0.5); }\n        50% { box-shadow: 0 0 40px rgba(239,68,68,1); }\n      }\n      @keyframes slideInRight {\n        from { transform: translateX(100%); opacity: 0; }\n        to { transform: translateX(0); opacity: 1; }\n      }\n    `;\n    document.head.appendChild(style);\n    return () => {\n      // ‚úÖ Cleanup s√©curis√©\n      try {\n        if (style && document.head.contains(style)) {\n          document.head.removeChild(style);\n        }\n      } catch (e) {\n        console.warn('Style cleanup failed:', e);\n      }\n    };\n  }, []);\n  const fetchPatients = useCallback(async () => {\n    try {\n      setLoadingPatients(true);\n      setError('');\n      const response = await api.get('/patients');\n      setPatients(Array.isArray(response.data) ? response.data : []);\n    } catch (err) {\n      console.error('‚ùå Patients:', err);\n      setError('Impossible de charger les patients');\n      setPatients([]);\n    } finally {\n      setLoadingPatients(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchPatients();\n  }, [fetchPatients]);\n  useEffect(() => {\n    const patient = patients.find(p => p._id === formData.patientId);\n    setSelectedPatient(patient || null);\n  }, [formData.patientId, patients]);\n\n  // ‚úÖ handleChange simplifi√© - SANS d√©pendances probl√©matiques\n  const handleChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n\n  // ‚úÖ Clear feedback avec useCallback\n  const clearFeedback = useCallback(() => {\n    setError('');\n    setSuccess('');\n    setExistingDossierId('');\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.patientId) {\n      var _errorRef$current;\n      setError('üë§ S√©lectionnez un patient');\n      (_errorRef$current = errorRef.current) === null || _errorRef$current === void 0 ? void 0 : _errorRef$current.focus();\n      return;\n    }\n    if (!formData.motif.trim()) {\n      var _errorRef$current2;\n      setError('üìã Motif obligatoire');\n      (_errorRef$current2 = errorRef.current) === null || _errorRef$current2 === void 0 ? void 0 : _errorRef$current2.focus();\n      return;\n    }\n    try {\n      setLoading(true);\n      clearFeedback();\n      const response = await api.post('/dossiers', formData);\n      setSuccess(`‚úÖ Dossier cr√©√© pour ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.nom) || 'patient'} ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.prenom) || ''}! ID: ${response.data.dossierId}`);\n      setFormData(prev => ({\n        ...prev,\n        motif: '',\n        description: ''\n      }));\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('üí• ERREUR R√âELLE:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 409) {\n        var _errorRef$current3;\n        const {\n          message,\n          dossierId = 'existant'\n        } = error.response.data;\n        console.log('üî• 409 CAPTUR√â:', {\n          message,\n          dossierId\n        });\n        setExistingDossierId(dossierId);\n        setError(message);\n        (_errorRef$current3 = errorRef.current) === null || _errorRef$current3 === void 0 ? void 0 : _errorRef$current3.scrollIntoView({\n          behavior: 'smooth'\n        });\n      } else {\n        var _error$response3, _error$response4, _error$response4$data;\n        setError(`‚ùå Erreur ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) || 'inconnue'}: ${((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Serveur indisponible'}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-dossier-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"\\uD83D\\uDCC1 Cr\\xE9er Dossier M\\xE9dical\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification success-notification\",\n      ref: successRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFeedback,\n          className: \"close-btn\",\n          \"aria-label\": \"Fermer\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification error-notification\",\n      ref: errorRef,\n      tabIndex: \"-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon-large\",\n          children: \"\\uD83D\\uDEA8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-title\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), existingDossierId && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"existing-dossier\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dossier-label\",\n              children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Dossier existant :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dossier-id-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"code\", {\n                className: \"dossier-id\",\n                children: existingDossierId === 'existant' ? 'EXISTANT' : existingDossierId.slice(-6)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), existingDossierId !== 'existant' && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"open-dossier-btn\",\n                onClick: () => window.open(`/dashboard/dossiers/${existingDossierId}`, '_blank'),\n                children: \"\\uD83D\\uDC41\\uFE0F OUVRIR DOSSIER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFeedback,\n          className: \"close-btn-large\",\n          \"aria-label\": \"Fermer l'erreur\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label required\",\n          children: [\"\\uD83D\\uDC64 Patient \", /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-hidden\": \"true\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), loadingPatients ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-patients\",\n          children: \"\\u23F3 Chargement des patients...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this) : patients.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-patients\",\n          children: [\"\\u274C Aucun patient trouv\\xE9\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: fetchPatients,\n            className: \"retry-btn\",\n            children: \"\\uD83D\\uDD04 Recharger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"patientId\",\n            value: formData.patientId,\n            onChange: handleChange,\n            required: true,\n            className: \"select-patient\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: [\"S\\xE9lectionnez un patient (\", patients.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), patients.map(patient => {\n              var _patient$nom, _patient$prenom;\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: patient._id,\n                children: [(_patient$nom = patient.nom) === null || _patient$nom === void 0 ? void 0 : _patient$nom.toUpperCase(), \" \", (_patient$prenom = patient.prenom) !== null && _patient$prenom !== void 0 ? _patient$prenom : '', patient.telephone && `‚Ä¢ ${patient.telephone}`]\n              }, patient._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"patient-selected\",\n            children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [selectedPatient.nom, \" \", selectedPatient.prenom]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this), selectedPatient.telephone && ` ‚Ä¢ üìû ${selectedPatient.telephone}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label required\",\n          children: [\"\\uD83D\\uDCCB Motif de consultation \", /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-hidden\": \"true\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"motif\",\n          value: formData.motif,\n          onChange: handleChange,\n          placeholder: \"Ex: palu, contr\\xF4le annuel, douleurs abdominales...\",\n          required: true,\n          className: \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"\\uD83D\\uDCDD Description d\\xE9taill\\xE9e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: formData.description,\n          onChange: handleChange,\n          rows: 5,\n          placeholder: \"Sympt\\xF4mes d\\xE9taill\\xE9s, ant\\xE9c\\xE9dents m\\xE9dicaux, observations...\",\n          className: \"textarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading || !formData.patientId || !formData.motif.trim(),\n        className: \"submit-btn\",\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\"\\u23F3 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Envoi en cours...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : !formData.patientId ? 'üë§ S√©lectionnez un patient' : !formData.motif.trim() ? 'üìã Saisissez un motif' : 'üöÄ Cr√©er le dossier m√©dical'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"details\", {\n      className: \"debug-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n        children: \"\\uD83D\\uDD0D Debug Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify({\n          patientsCount: patients.length,\n          selectedPatient: selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient._id,\n          existingDossierId,\n          formData,\n          error: error ? error.slice(0, 100) + '...' : null,\n          status: loading ? 'ENVOI' : 'PR√äT'\n        }, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateDossier, \"vrydBTDFr+2BMHO6RsTHTx25S5E=\");\n_c = CreateDossier;\nexport default CreateDossier;\nvar _c;\n$RefreshReg$(_c, \"CreateDossier\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","CreateDossier","_s","formData","setFormData","patientId","motif","description","patients","setPatients","loading","setLoading","loadingPatients","setLoadingPatients","error","setError","success","setSuccess","selectedPatient","setSelectedPatient","existingDossierId","setExistingDossierId","errorRef","successRef","styleId","existingStyle","document","getElementById","style","createElement","id","textContent","head","appendChild","contains","removeChild","e","console","warn","fetchPatients","response","get","Array","isArray","data","err","patient","find","p","_id","handleChange","name","value","target","prev","clearFeedback","handleSubmit","preventDefault","_errorRef$current","current","focus","trim","_errorRef$current2","post","nom","prenom","dossierId","_error$response","_error$response2","status","_errorRef$current3","message","log","scrollIntoView","behavior","_error$response3","_error$response4","_error$response4$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","tabIndex","slice","window","open","onSubmit","length","type","onChange","required","map","_patient$nom","_patient$prenom","toUpperCase","telephone","placeholder","rows","disabled","process","env","NODE_ENV","JSON","stringify","patientsCount","_c","$RefreshReg$"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/dossier/CreateDossier.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst api = axios.create({ baseURL: 'http://localhost:5000/api' });\r\napi.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  config.headers['Content-Type'] = 'application/json';\r\n  return config;\r\n});\r\n\r\nconst CreateDossier = () => {\r\n  const [formData, setFormData] = useState({\r\n    patientId: '', \r\n    motif: '', \r\n    description: ''\r\n  });\r\n  const [patients, setPatients] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingPatients, setLoadingPatients] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [selectedPatient, setSelectedPatient] = useState(null);\r\n  const [existingDossierId, setExistingDossierId] = useState('');\r\n  const errorRef = useRef(null);\r\n  const successRef = useRef(null);\r\n\r\n  // ‚úÖ Animation CSS - CORRIG√â avec v√©rification robuste\r\n  useEffect(() => {\r\n    const styleId = 'dossier-animations';\r\n    const existingStyle = document.getElementById(styleId);\r\n    \r\n    if (existingStyle) return;\r\n\r\n    const style = document.createElement('style');\r\n    style.id = styleId;\r\n    style.textContent = `\r\n      @keyframes shake {\r\n        0%, 100% { transform: translateX(0); }\r\n        25% { transform: translateX(-10px); }\r\n        75% { transform: translateX(10px); }\r\n      }\r\n      @keyframes pulse {\r\n        0%, 100% { box-shadow: 0 0 20px rgba(239,68,68,0.5); }\r\n        50% { box-shadow: 0 0 40px rgba(239,68,68,1); }\r\n      }\r\n      @keyframes slideInRight {\r\n        from { transform: translateX(100%); opacity: 0; }\r\n        to { transform: translateX(0); opacity: 1; }\r\n      }\r\n    `;\r\n    \r\n    document.head.appendChild(style);\r\n    \r\n    return () => {\r\n      // ‚úÖ Cleanup s√©curis√©\r\n      try {\r\n        if (style && document.head.contains(style)) {\r\n          document.head.removeChild(style);\r\n        }\r\n      } catch (e) {\r\n        console.warn('Style cleanup failed:', e);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const fetchPatients = useCallback(async () => {\r\n    try {\r\n      setLoadingPatients(true);\r\n      setError('');\r\n      const response = await api.get('/patients');\r\n      setPatients(Array.isArray(response.data) ? response.data : []);\r\n    } catch (err) {\r\n      console.error('‚ùå Patients:', err);\r\n      setError('Impossible de charger les patients');\r\n      setPatients([]);\r\n    } finally {\r\n      setLoadingPatients(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => { \r\n    fetchPatients(); \r\n  }, [fetchPatients]);\r\n\r\n  useEffect(() => {\r\n    const patient = patients.find(p => p._id === formData.patientId);\r\n    setSelectedPatient(patient || null);\r\n  }, [formData.patientId, patients]);\r\n\r\n  // ‚úÖ handleChange simplifi√© - SANS d√©pendances probl√©matiques\r\n  const handleChange = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  }, []);\r\n\r\n  // ‚úÖ Clear feedback avec useCallback\r\n  const clearFeedback = useCallback(() => {\r\n    setError(''); \r\n    setSuccess(''); \r\n    setExistingDossierId('');\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.patientId) { \r\n      setError('üë§ S√©lectionnez un patient'); \r\n      errorRef.current?.focus();\r\n      return; \r\n    }\r\n    if (!formData.motif.trim()) { \r\n      setError('üìã Motif obligatoire'); \r\n      errorRef.current?.focus();\r\n      return; \r\n    }\r\n\r\n    try {\r\n      setLoading(true); \r\n      clearFeedback();\r\n      \r\n      const response = await api.post('/dossiers', formData);\r\n      \r\n      setSuccess(`‚úÖ Dossier cr√©√© pour ${selectedPatient?.nom || 'patient'} ${selectedPatient?.prenom || ''}! ID: ${response.data.dossierId}`);\r\n      setFormData(prev => ({ ...prev, motif: '', description: '' }));\r\n      \r\n    } catch (error) {\r\n      console.error('üí• ERREUR R√âELLE:', error.response?.data);\r\n      \r\n      if (error.response?.status === 409) {\r\n        const { message, dossierId = 'existant' } = error.response.data;\r\n        console.log('üî• 409 CAPTUR√â:', { message, dossierId });\r\n        \r\n        setExistingDossierId(dossierId);\r\n        setError(message);\r\n        errorRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n      } else {\r\n        setError(`‚ùå Erreur ${error.response?.status || 'inconnue'}: ${error.response?.data?.message || 'Serveur indisponible'}`);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-dossier-container\">\r\n      <h1 className=\"title\">üìÅ Cr√©er Dossier M√©dical</h1>\r\n\r\n      {/* ‚úÖ SUCCESS NOTIFICATION */}\r\n      {success && (\r\n        <div className=\"notification success-notification\" ref={successRef}>\r\n          <div className=\"notification-content\">\r\n            <span className=\"icon\">‚úÖ</span>\r\n            <strong>{success}</strong>\r\n            <button \r\n              onClick={clearFeedback}\r\n              className=\"close-btn\"\r\n              aria-label=\"Fermer\"\r\n            >\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ‚úÖ ERROR NOTIFICATION - CORRIG√âE */}\r\n      {error && (\r\n        <div className=\"notification error-notification\" ref={errorRef} tabIndex=\"-1\">\r\n          <div className=\"notification-content\">\r\n            <span className=\"icon-large\">üö®</span>\r\n            <div className=\"error-content\">\r\n              <div className=\"error-title\">\r\n                <strong>{error}</strong>\r\n              </div>\r\n              \r\n              {existingDossierId && (\r\n                <div className=\"existing-dossier\">\r\n                  <div className=\"dossier-label\">\r\n                    üìã <strong>Dossier existant :</strong>\r\n                  </div>\r\n                  <div className=\"dossier-id-container\">\r\n                    <code className=\"dossier-id\">\r\n                      {existingDossierId === 'existant' ? 'EXISTANT' : existingDossierId.slice(-6)}\r\n                    </code>\r\n                    {existingDossierId !== 'existant' && (\r\n                      <button \r\n                        className=\"open-dossier-btn\"\r\n                        onClick={() => window.open(`/dashboard/dossiers/${existingDossierId}`, '_blank')}\r\n                      >\r\n                        üëÅÔ∏è OUVRIR DOSSIER\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <button \r\n              onClick={clearFeedback}\r\n              className=\"close-btn-large\"\r\n              aria-label=\"Fermer l'erreur\"\r\n            >\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"form\">\r\n        {/* PATIENT SELECT */}\r\n        <div className=\"form-group\">\r\n          <label className=\"label required\">\r\n            üë§ Patient <span aria-hidden=\"true\">*</span>\r\n          </label>\r\n\r\n          {loadingPatients ? (\r\n            <div className=\"loading-patients\">‚è≥ Chargement des patients...</div>\r\n          ) : patients.length === 0 ? (\r\n            <div className=\"no-patients\">\r\n              ‚ùå Aucun patient trouv√©\r\n              <button type=\"button\" onClick={fetchPatients} className=\"retry-btn\">\r\n                üîÑ Recharger\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <select \r\n                name=\"patientId\" \r\n                value={formData.patientId} \r\n                onChange={handleChange} \r\n                required \r\n                className=\"select-patient\"\r\n              >\r\n                <option value=\"\">S√©lectionnez un patient ({patients.length})</option>\r\n                {patients.map(patient => (\r\n                  <option key={patient._id} value={patient._id}>\r\n                    {patient.nom?.toUpperCase()} {patient.prenom ?? ''} \r\n                    {patient.telephone && `‚Ä¢ ${patient.telephone}`}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {selectedPatient && (\r\n                <div className=\"patient-selected\">\r\n                  ‚úÖ <strong>{selectedPatient.nom} {selectedPatient.prenom}</strong>\r\n                  {selectedPatient.telephone && ` ‚Ä¢ üìû ${selectedPatient.telephone}`}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* MOTIF */}\r\n        <div className=\"form-group\">\r\n          <label className=\"label required\">üìã Motif de consultation <span aria-hidden=\"true\">*</span></label>\r\n          <input \r\n            name=\"motif\" \r\n            value={formData.motif} \r\n            onChange={handleChange} \r\n            placeholder=\"Ex: palu, contr√¥le annuel, douleurs abdominales...\"\r\n            required \r\n            className=\"input\"\r\n          />\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"form-group\">\r\n          <label className=\"label\">üìù Description d√©taill√©e</label>\r\n          <textarea \r\n            name=\"description\" \r\n            value={formData.description} \r\n            onChange={handleChange} \r\n            rows={5} \r\n            placeholder=\"Sympt√¥mes d√©taill√©s, ant√©c√©dents m√©dicaux, observations...\"\r\n            className=\"textarea\"\r\n          />\r\n        </div>\r\n\r\n        {/* SUBMIT BUTTON */}\r\n        <button \r\n          type=\"submit\" \r\n          disabled={loading || !formData.patientId || !formData.motif.trim()} \r\n          className=\"submit-btn\"\r\n        >\r\n          {loading ? (\r\n            <>‚è≥ <span>Envoi en cours...</span></>\r\n          ) : !formData.patientId ? (\r\n            'üë§ S√©lectionnez un patient'\r\n          ) : !formData.motif.trim() ? (\r\n            'üìã Saisissez un motif'\r\n          ) : (\r\n            'üöÄ Cr√©er le dossier m√©dical'\r\n          )}\r\n        </button>\r\n      </form>\r\n\r\n      {/* DEBUG PANEL */}\r\n      {process.env.NODE_ENV === 'development' && (\r\n        <details className=\"debug-panel\">\r\n          <summary>üîç Debug Info</summary>\r\n          <pre>\r\n            {JSON.stringify({ \r\n              patientsCount: patients.length, \r\n              selectedPatient: selectedPatient?._id, \r\n              existingDossierId, \r\n              formData, \r\n              error: error ? error.slice(0, 100) + '...' : null,\r\n              status: loading ? 'ENVOI' : 'PR√äT'\r\n            }, null, 2)}\r\n          </pre>\r\n        </details>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateDossier;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}