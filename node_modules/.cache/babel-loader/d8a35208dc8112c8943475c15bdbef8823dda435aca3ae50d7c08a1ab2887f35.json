{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mbeug\\\\OneDrive\\\\Desktop\\\\GOVAIMED1\\\\frontend\\\\govaimed_frontend\\\\src\\\\doctor\\\\DossiersList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getData } from '../api/endpoint';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DossiersList = () => {\n  _s();\n  const [dossiers, setDossiers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadDossiers();\n  }, []);\n  const loadDossiers = async () => {\n    try {\n      setLoading(true);\n\n      // ‚úÖ Essai API r√©elle\n      const data = await getData('/dossier/mes-dossiers');\n      setDossiers(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('API dossiers:', err);\n\n      // Fallback localStorage\n      const localDossiers = JSON.parse(localStorage.getItem('dossiersMedecin') || '[]');\n      setDossiers(localDossiers);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      textAlign: 'center'\n    },\n    children: \"\\u23F3 Chargement dossiers...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 23\n  }, this);\n  if (dossiers.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      textAlign: 'center',\n      color: '#666'\n    },\n    children: \"Aucun dossier\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 37\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '1.2rem',\n        fontWeight: 'bold',\n        marginBottom: '1.5rem',\n        color: '#1976d2'\n      },\n      children: [\"\\uD83D\\uDCC1 \", dossiers.length, \" dossier\", dossiers.length > 1 ? 's' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '1rem'\n      },\n      children: dossiers.map(dossier => {\n        var _dossier$patientId, _dossier$allergies;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1.5rem',\n            border: '2px solid #e0e0e0',\n            borderRadius: '12px',\n            background: 'white',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'start',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 0.5rem 0',\n                  color: '#1976d2'\n                },\n                children: [\"\\uD83D\\uDC64 \", ((_dossier$patientId = dossier.patientId) === null || _dossier$patientId === void 0 ? void 0 : _dossier$patientId.fullName) || dossier.patientFullName || 'Patient']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#666',\n                  fontSize: '0.9rem'\n                },\n                children: [\"\\uD83E\\uDE78 \", dossier.groupeSanguin || 'Non sp√©cifi√©', \" | \\uD83D\\uDCC5 \", new Date(dossier.createdAt || dossier.created_at).toLocaleDateString('fr-FR')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: '0.3rem 0.8rem',\n                borderRadius: '20px',\n                fontSize: '0.8rem',\n                background: dossier.statut === 'ACTIF' ? '#4caf50' : '#ff9800',\n                color: 'white'\n              },\n              children: dossier.statut || 'ACTIF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), dossier.resumeMedical && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1rem',\n              color: '#333'\n            },\n            children: [\"\\uD83D\\uDCDD \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"R\\xE9sum\\xE9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 20\n            }, this), \" \", dossier.resumeMedical]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), ((_dossier$allergies = dossier.allergies) === null || _dossier$allergies === void 0 ? void 0 : _dossier$allergies.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#d32f2f',\n              fontWeight: '500'\n            },\n            children: [\"\\u26A0\\uFE0F Allergies: \", dossier.allergies.map(a => a.allergie).join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, dossier._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(DossiersList, \"7pD53J48lBRuyikhAHM4DKHJCsw=\");\n_c = DossiersList;\nexport default DossiersList;\nvar _c;\n$RefreshReg$(_c, \"DossiersList\");","map":{"version":3,"names":["React","useState","useEffect","getData","jsxDEV","_jsxDEV","DossiersList","_s","dossiers","setDossiers","loading","setLoading","loadDossiers","data","Array","isArray","err","console","error","localDossiers","JSON","parse","localStorage","getItem","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","length","color","fontSize","fontWeight","marginBottom","display","gap","map","dossier","_dossier$patientId","_dossier$allergies","border","borderRadius","background","boxShadow","justifyContent","alignItems","margin","patientId","fullName","patientFullName","groupeSanguin","Date","createdAt","created_at","toLocaleDateString","statut","resumeMedical","allergies","a","allergie","join","_id","_c","$RefreshReg$"],"sources":["C:/Users/mbeug/OneDrive/Desktop/GOVAIMED1/frontend/govaimed_frontend/src/doctor/DossiersList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getData } from '../api/endpoint';\r\n\r\nconst DossiersList = () => {\r\n  const [dossiers, setDossiers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadDossiers();\r\n  }, []);\r\n\r\n  const loadDossiers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // ‚úÖ Essai API r√©elle\r\n      const data = await getData('/dossier/mes-dossiers');\r\n      setDossiers(Array.isArray(data) ? data : []);\r\n      \r\n    } catch (err) {\r\n      console.error('API dossiers:', err);\r\n      \r\n      // Fallback localStorage\r\n      const localDossiers = JSON.parse(localStorage.getItem('dossiersMedecin') || '[]');\r\n      setDossiers(localDossiers);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div style={{ padding: '2rem', textAlign: 'center' }}>‚è≥ Chargement dossiers...</div>;\r\n  if (dossiers.length === 0) return <div style={{ padding: '2rem', textAlign: 'center', color: '#666' }}>Aucun dossier</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ fontSize: '1.2rem', fontWeight: 'bold', marginBottom: '1.5rem', color: '#1976d2' }}>\r\n        üìÅ {dossiers.length} dossier{dossiers.length > 1 ? 's' : ''}\r\n      </div>\r\n      \r\n      <div style={{ display: 'grid', gap: '1rem' }}>\r\n        {dossiers.map(dossier => (\r\n          <div key={dossier._id} style={{\r\n            padding: '1.5rem', border: '2px solid #e0e0e0', borderRadius: '12px',\r\n            background: 'white', boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1rem' }}>\r\n              <div>\r\n                <h3 style={{ margin: '0 0 0.5rem 0', color: '#1976d2' }}>\r\n                  üë§ {dossier.patientId?.fullName || dossier.patientFullName || 'Patient'}\r\n                </h3>\r\n                <div style={{ color: '#666', fontSize: '0.9rem' }}>\r\n                  ü©∏ {dossier.groupeSanguin || 'Non sp√©cifi√©'} | \r\n                  üìÖ {new Date(dossier.createdAt || dossier.created_at).toLocaleDateString('fr-FR')}\r\n                </div>\r\n              </div>\r\n              <span style={{ \r\n                padding: '0.3rem 0.8rem', borderRadius: '20px', fontSize: '0.8rem',\r\n                background: dossier.statut === 'ACTIF' ? '#4caf50' : '#ff9800',\r\n                color: 'white'\r\n              }}>\r\n                {dossier.statut || 'ACTIF'}\r\n              </span>\r\n            </div>\r\n            \r\n            {dossier.resumeMedical && (\r\n              <div style={{ marginBottom: '1rem', color: '#333' }}>\r\n                üìù <strong>R√©sum√©:</strong> {dossier.resumeMedical}\r\n              </div>\r\n            )}\r\n            \r\n            {dossier.allergies?.length > 0 && (\r\n              <div style={{ color: '#d32f2f', fontWeight: '500' }}>\r\n                ‚ö†Ô∏è Allergies: {dossier.allergies.map(a => a.allergie).join(', ')}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DossiersList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}